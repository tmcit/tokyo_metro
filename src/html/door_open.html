<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<script type="text/javascript" src="../../libs/jquery/jquery-2.1.1.min.js"></script>
	<link rel="stylesheet" href="../css/door_anim_style.css"/>

	<title></title>
</head>
<body>

    <div id="door_container" >
        
        <div id="images_container" >
            <div id="door_left" class="door">
                <img class="door_image" src="../../img/door/door_left_s.png"  />
            </div>
            <div id="door_right" class="door">
                <img class="door_image" src="../../img/door/door_right_s.png" />
            </div>
        </div>

        <div id="door_frame">
            <img src="../../img/door/door_frame1_s_shadow.png" />
        </div>
    </div>


	<script type="text/javascript">
        //ドア画像が読み込まれたとき、ドア画像のwidthを取得
        var width;
        var element = $('#door_left img');
        element.on('load', function () {
            var img = new Image();
            img.src = element.attr('src');
            width = img.width;
            
            //#images_containerのサイズ調整
            //frameからスライドしたドアがはみ出さない様にするため
            var fixdiv = document.getElementById("images_container");
            fixdiv.style.width = width * 2 + "px";

            //#images_containerのleft:に、(frameのwidth / 2 - ドアのwidth)の値を設定すれば、
            //全て動的に表示位置を計算してくれる様になる
        });

        jQuery(document).ready(function () {
            jQuery('#door_container').hover(function () {
                jQuery('#door_container').find('#door_left').animate({ right: width }, { queue: false, duration: 1000 });
                jQuery('#door_container').find('#door_right').animate({ left: width }, { queue: false, duration: 1000 });
                //jQuery('#door_container .door').animate({ 'opacity': 0 }, { queue: false, duration: 1000 });
            }, function () {
                jQuery('#door_container .door').animate({ 'opacity': 1 }, { queue: false, duration: 1000 });
                jQuery('#door_container .door').css({ 'left': 'auto', 'right': 'auto' });
            });
        });
	</script>
</body>
</html>